<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coins Calculator / ç¡¬å¸è®¡ç®—å™¨</title>
    
    <!-- PWA é…ç½® -->
    <link rel="manifest" href="manifest.json">
    
    <!-- æ ·å¼ -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- ä¸»é¢˜æ ·å¼ -->
    <link rel="stylesheet" href="styles/theme.css">    
    <!-- å›¾æ ‡ -->
    <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    
    <!-- ç§»åŠ¨ç«¯ä¸»é¢˜è‰² -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header class="app-header">
            <div class="header-content">
                <h1>ğŸª™ Coins Calculator</h1>
                <p class="subtitle">ç¡¬å¸è®¡ç®—å™¨</p>
                <p class="made-by">Made by @bakfall</p>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <!-- å·¦ä¾§ï¼šæ§åˆ¶é¢æ¿ + ç©å®¶ç®¡ç† -->
            <div class="left-panel">
                <!-- ç¡¬å¸æ§åˆ¶åŒºåŸŸ -->
                <section class="control-panel card">
                    <h2>âš™ï¸ è®¾ç½® Settings</h2>
                    
                    <div class="input-group">
                        <label for="playerCount">
                            <span class="en">Player Count / ç©å®¶äººæ•°:</span>
                        </label>
                        <select id="playerCount">
                            <option value="4">4 Players (4äºº)</option>
                            <option value="5">5 Players (5äºº)</option>
                            <option value="6">6 Players (6äºº)</option>
                        </select>
                    </div>
                    
                    <!-- Pouchè¾“å…¥åŒºåŸŸ -->
                    <div class="input-group">
                        <label>
                            <span class="en">Pouch Values / Pouchæ•°å€¼:</span>
                        </label>
                        <div class="pouch-inputs">
                            <div class="pouch-item">
                                <label for="pouch1">pouch1:</label>
                                <input type="number" id="pouch1" class="pouch-input" value="0" min="0" data-index="0">
                            </div>
                            <div class="pouch-item">
                                <label for="pouch2">pouch2:</label>
                                <input type="number" id="pouch2" class="pouch-input" value="0" min="0" data-index="1">
                            </div>
                            <div class="pouch-item">
                                <label for="pouch3">pouch3:</label>
                                <input type="number" id="pouch3" class="pouch-input" value="0" min="0" data-index="2">
                            </div>
                            <div class="pouch-item">
                                <label for="pouch4">pouch4:</label>
                                <input type="number" id="pouch4" class="pouch-input" value="0" min="0" data-index="3">
                            </div>
                        </div>
                        <div class="pouch-summary">
                            <span>Pouchæ€»å’Œ: </span>
                            <strong id="pouchTotal">0</strong>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="totalCoins">
                            <span class="en">Total Coins / ç¡¬å¸æ€»æ•°:</span>
                        </label>
                        <div class="input-with-buttons">
                            <input type="number" id="totalCoins" value="0" min="0" readonly>
                            <div class="quick-buttons">
                                <button class="quick-btn" data-amount="50" title="è®¾ç½®æ€»æ•°ä¸º50ï¼Œå¹³å‡åˆ†é…åˆ°pouch">50</button>
                                <button class="quick-btn" data-amount="100" title="è®¾ç½®æ€»æ•°ä¸º100ï¼Œå¹³å‡åˆ†é…åˆ°pouch">100</button>
                                <button class="quick-btn" data-amount="200" title="è®¾ç½®æ€»æ•°ä¸º200ï¼Œå¹³å‡åˆ†é…åˆ°pouch">200</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button id="calculate" class="btn-primary">ğŸ“Š Calculate / è®¡ç®—åˆ†é…</button>
                    </div>
                    
                    <!-- æ•°æ®æ“ä½œæŒ‰é’® -->
                    <div class="data-actions">
                        <button id="saveSettings" class="btn-secondary">ğŸ’¾ ä¿å­˜è®¾ç½®</button>
                        <button id="exportData" class="btn-secondary">ğŸ“¤ å¯¼å‡ºæ•°æ®</button>
                        <label class="btn-secondary file-input-label">
                            ğŸ“¥ å¯¼å…¥æ•°æ®
                            <input type="file" id="importData" accept=".json" style="display: none;">
                        </label>
                    </div>
                </section>
                
                <!-- ç©å®¶ç®¡ç†åŒºåŸŸ -->
                <section class="player-management card">
                    <h2>ğŸ‘¥ Player Management / ç©å®¶ç®¡ç†</h2>
                    
                    <!-- ç©å®¶åè¾“å…¥æ¡†ï¼ˆæ ¹æ®äººæ•°åŠ¨æ€æ˜¾ç¤ºï¼‰ -->
                    <div class="input-group">
                        <label>
                            <span class="en">Player Names / ç©å®¶åå­—:</span>
                        </label>
                        <div id="playerNameInputs" class="player-name-inputs">
                            <!-- ç©å®¶åè¾“å…¥æ¡†å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                    
                    <!-- Rollç‚¹åŒºåŸŸ -->
                    <div class="roll-section">
                        <h3>ğŸ² Random Roll / éšæœºRollç‚¹</h3>
                        
                        <div class="input-group">
                            <label>
                                <span class="en">Participants / å‚ä¸è€…:</span>
                            </label>
                            <div id="participantCheckboxes" class="checkbox-group">
                                <!-- å¤é€‰æ¡†å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                        
                        <div class="button-group">
                            <button id="startRoll" class="btn-secondary">ğŸ”„ Start Roll / å¼€å§‹Rollç‚¹</button>
                        </div>
                        
                        <div id="rollResults" class="roll-results">
                            <!-- Rollç‚¹ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                </section>
            </div>
            
            <!-- å³ä¾§ï¼šåˆ†é…ç»“æœ + å†å²è®°å½• -->
            <div class="right-panel">
                <!-- åˆ†é…ç»“æœæ¿å— -->
                <section class="results-panel card">
                    <h2>ğŸ“Š Results / åˆ†é…ç»“æœ</h2>
                    <div class="table-container">
                        <table id="resultsTable">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Player / ç©å®¶</th>
                                    <th>Base / åŸºç¡€</th>
                                    <th>Deduction / æ‰£å‡</th>
                                    <th>Actual / å®é™…</th>
                                </tr>
                            </thead>
                            <tbody id="resultsBody">
                                <!-- ç»“æœå°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="summary">
                        <div class="summary-item">
                            <span>Total / æ€»æ•°:</span>
                            <strong id="totalDisplay">0</strong>
                        </div>
                        <div class="summary-item">
                            <span>Remainder / ä½™æ•°:</span>
                            <strong id="remainderDisplay">0</strong>
                        </div>
                    </div>
                </section>
                
                <!-- å†å²è®°å½• -->
                <section class="history-panel card">
                    <h2>ğŸ“œ History / å†å²è®°å½•</h2>
                    <div class="button-group">
                        <button id="saveCurrent" class="btn-secondary">ğŸ’¾ ä¿å­˜å½“å‰è®¡ç®—</button>
                        <button id="clearHistory" class="btn-secondary">ğŸ—‘ï¸ æ¸…ç©ºå†å²</button>
                    </div>
                    <div id="historyList" class="history-list">
                        <!-- å†å²è®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </section>
            </div>
        </main>

        <!-- é¡µè„š -->
        <footer class="app-footer">
            <div class="footer-content">
                <p>Coins Calculator PWA v1.0</p>
                <p class="instructions">
                    ğŸ’¡ æç¤ºï¼šå¯ä»¥æ·»åŠ åˆ°ä¸»å±å¹•ä½¿ç”¨ | Tip: Can be added to home screen
                </p>
            </div>
        </footer>
    </div>

    <!-- JavaScript æ–‡ä»¶ -->
    <script src="scripts/calculator.js"></script>
    <script src="scripts/roll.js"></script>
    <script src="scripts/storage.js"></script>
    <script src="scripts/app.js"></script>
    
    <!-- PWA Service Worker æ³¨å†Œ -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(() => console.log('Service Worker å·²æ³¨å†Œ'))
                .catch(err => console.log('Service Worker æ³¨å†Œå¤±è´¥:', err));
        }
    </script>
</body>
</html>
