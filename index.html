<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coins Calculator / ç¡¬å¸è®¡ç®—å™¨</title>
    
    <!-- PWA é…ç½® -->
    <link rel="manifest" href="manifest.json">
    
    <!-- æ ·å¼ -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- å›¾æ ‡ -->
    <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    
    <!-- ç§»åŠ¨ç«¯ä¸»é¢˜è‰² -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header class="app-header">
            <div class="header-content">
                <h1>ğŸª™ Coins Calculator</h1>
                <p class="subtitle">ç¡¬å¸è®¡ç®—å™¨</p>
                <p class="made-by">Made by @bakfall</p>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <!-- æ§åˆ¶é¢æ¿ -->
            <section class="control-panel card">
                <h2>âš™ï¸ è®¾ç½® Settings</h2>
                <div class="input-group">
                    <label for="playerCount">
                        <span class="en">Player Count / ç©å®¶äººæ•°:</span>
                    </label>
                    <select id="playerCount">
                        <option value="4">4 Players (4äºº)</option>
                        <option value="5">5 Players (5äºº)</option>
                        <option value="6">6 Players (6äºº)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="totalCoins">
                        <span class="en">Total Coins / ç¡¬å¸æ€»æ•°:</span>
                    </label>
                    <div class="input-with-buttons">
                        <input type="number" id="totalCoins" value="100" min="0">
                        <div class="quick-buttons">
                            <button class="quick-btn" data-amount="50">50</button>
                            <button class="quick-btn" data-amount="100">100</button>
                            <button class="quick-btn" data-amount="200">200</button>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="playerNames">
                        <span class="en">Player Names / ç©å®¶åå­—:</span>
                    </label>
                    <textarea id="playerNames" rows="3" placeholder="è¾“å…¥ç©å®¶åå­—ï¼Œç”¨é€—å·åˆ†éš”
Enter player names, separated by commas"></textarea>
                </div>
                
                <div class="button-group">
                    <button id="rollPlayers" class="btn-secondary">ğŸ² Randomize Order / éšæœºæ’åº</button>
                    <button id="calculate" class="btn-primary">ğŸ“Š Calculate / è®¡ç®—åˆ†é…</button>
                </div>
                <!-- ä¸»é¢˜é€‰æ‹© -->
                <section class="theme-panel card">
                    <h2>ğŸ¨ ä¸»é¢˜è®¾ç½®</h2>
                    <div id="themeSelector"></div>
                </section>

                <!-- å†å²è®°å½• -->
                <section class="history-panel card">
                    <h2>ğŸ“œ å†å²è®°å½•</h2>
                    <div class="button-group">
                        <button id="saveCurrent" class="btn-secondary">ğŸ’¾ ä¿å­˜å½“å‰è®¡ç®—</button>
                        <button id="clearHistory" class="btn-secondary">ğŸ—‘ï¸ æ¸…ç©ºå†å²</button>
                    </div>
                    <div id="historyList" class="history-list">
                    <!-- å†å²è®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </section>
                <div class="data-actions">
                    <button id="saveSettings" class="btn-secondary">ğŸ’¾ ä¿å­˜è®¾ç½®</button>
                    <button id="exportData" class="btn-secondary">ğŸ“¤ å¯¼å‡ºæ•°æ®</button>
    <label class="btn-secondary file-input-label">
        ğŸ“¥ å¯¼å…¥æ•°æ®
        <input type="file" id="importData" accept=".json" style="display: none;">
    </label>
</div>
            </section>

            <!-- ç»“æœè¡¨æ ¼ -->
            <section class="results-panel card">
                <h2>ğŸ“Š Results / åˆ†é…ç»“æœ</h2>
                <div class="table-container">
                    <table id="resultsTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Player / ç©å®¶</th>
                                <th>Base / åŸºç¡€</th>
                                <th>Deduction / æ‰£å‡</th>
                                <th>Actual / å®é™…</th>
                            </tr>
                        </thead>
                        <tbody id="resultsBody">
                            <!-- ç»“æœå°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        </tbody>
                    </table>
                </div>
                
                <div class="summary">
                    <div class="summary-item">
                        <span>Total / æ€»æ•°:</span>
                        <strong id="totalDisplay">100</strong>
                    </div>
                    <div class="summary-item">
                        <span>Remainder / ä½™æ•°:</span>
                        <strong id="remainderDisplay">0</strong>
                    </div>
                </div>
            </section>

            <!-- Rollç‚¹åŒºåŸŸ -->
            <section class="roll-panel card">
                <h2>ğŸ² Random Roll / éšæœºRollç‚¹</h2>
                <div class="roll-controls">
                    <div class="input-group">
                        <label>
                            <span class="en">Participants / å‚ä¸è€…:</span>
                        </label>
                        <div id="participantCheckboxes" class="checkbox-group">
                            <!-- å¤é€‰æ¡†å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button id="startRoll" class="btn-secondary">ğŸ”„ Roll Dice / å¼€å§‹Rollç‚¹</button>
                    </div>
                    
                    <div id="rollResults" class="roll-results">
                        <!-- Rollç‚¹ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </div>
            </section>
        </main>

        <!-- é¡µè„š -->
        <footer class="app-footer">
            <div class="footer-content">
                <p>Coins Calculator PWA v1.0</p>
                <p class="instructions">
                    ğŸ’¡ æç¤ºï¼šå¯ä»¥æ·»åŠ åˆ°ä¸»å±å¹•ä½¿ç”¨ | Tip: Can be added to home screen
                </p>
            </div>
        </footer>
    </div>

    <!-- æ›´æ–°åçš„scriptéƒ¨åˆ† -->
    <script src="scripts/calculator.js"></script>
    <script src="scripts/roll.js"></script>
    <script src="scripts/storage.js"></script>
    <script src="scripts/theme.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/update.js"></script>
    
    <!-- PWA Service Worker æ³¨å†Œ -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(() => console.log('Service Worker å·²æ³¨å†Œ'))
                .catch(err => console.log('Service Worker æ³¨å†Œå¤±è´¥:', err));
        }
    </script>
</body>
</html>
